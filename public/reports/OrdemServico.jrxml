<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.10.0.final using JasperReports Library version 6.10.0-unknown  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Fixa_elaboracao_projeto" pageWidth="595" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="4eedbb89-b4f6-4469-9ab6-f642a1688cf7">
	<property name="template.engine" value="tabular_template"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Sample DB"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w1" value="695"/>
	<property name="com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w2" value="291"/>
	<style name="Title" forecolor="#FFFFFF" fontName="Times New Roman" fontSize="50" isBold="false" pdfFontName="Times-Bold"/>
	<style name="SubTitle" forecolor="#CCCCCC" fontName="Times New Roman" fontSize="18" isBold="false" pdfFontName="Times-Roman"/>
	<style name="Row" mode="Transparent" fontName="Times New Roman" pdfFontName="Times-Roman">
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{REPORT_COUNT}%2 == 0]]></conditionExpression>
			<style mode="Opaque" backcolor="#EEEFF0"/>
		</conditionalStyle>
	</style>
	<style name="Table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
			<topPen lineWidth="1.0" lineColor="#000000"/>
			<leftPen lineWidth="1.0" lineColor="#000000"/>
			<bottomPen lineWidth="1.0" lineColor="#000000"/>
			<rightPen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="contratos" uuid="ecfab627-bb23-4ebe-957a-65aeac4c80a3">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Sample DB"/>
		<parameter name="idProjeto" class="java.lang.Float"/>
		<queryString language="SQL">
			<![CDATA[SELECT 
	pcc.`num_contacontrato`,
	pcc.`percentual`
FROM projetosv2 AS p
INNER JOIN projetos_contas_contrato AS pcc ON pcc.`projetov2_id` = p.`id`
where pcc.`projetov2_id` =  $P{idProjeto}]]>
		</queryString>
		<field name="num_contacontrato" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="num_contacontrato"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="projetos_contas_contrato"/>
		</field>
		<field name="percentual" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="percentual"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="projetos_contas_contrato"/>
		</field>
	</subDataset>
	<parameter name="idProjeto" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[SELECT 
users.name AS responsavel,
clientes.nome AS cliente,
clientes.nome_empresa as nome_empresa,
pre_propostas.codigo AS NumeroProposta,
ende.logradouro,
ende.cep,
ende.numero,
ende.complemento,
ende.bairro,
ende.uf,
ende.cidade,
os.codigo,
os.data_visita
FROM ordem_servico AS os
LEFT JOIN projetosv2 ON projetosv2.id = os.projeto_id
LEFT JOIN enderecos AS ende ON ende.id = projetosv2.endereco_id
LEFT JOIN pre_propostas ON pre_propostas.id = projetosv2.proposta_id
LEFT JOIN clientes ON clientes.id = pre_propostas.cliente_id
LEFT JOIN users ON  users.id = os.tecnico_id
WHERE os.id =  $P{idProjeto}]]>
	</queryString>
	<field name="responsavel" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="responsavel"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="users"/>
	</field>
	<field name="cliente" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="cliente"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="clientes"/>
	</field>
	<field name="nome_empresa" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="nome_empresa"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="clientes"/>
	</field>
	<field name="NumeroProposta" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="NumeroProposta"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="pre_propostas"/>
	</field>
	<field name="logradouro" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="logradouro"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="enderecos"/>
	</field>
	<field name="cep" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="cep"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="enderecos"/>
	</field>
	<field name="numero" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="numero"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="enderecos"/>
	</field>
	<field name="complemento" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="complemento"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="enderecos"/>
	</field>
	<field name="bairro" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="bairro"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="enderecos"/>
	</field>
	<field name="uf" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="uf"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="enderecos"/>
	</field>
	<field name="cidade" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="cidade"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="enderecos"/>
	</field>
	<field name="codigo" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="codigo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ordem_servico"/>
	</field>
	<field name="data_visita" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.label" value="data_visita"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ordem_servico"/>
	</field>
	<detail>
		<band height="759">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.FreeLayout"/>
			<image>
				<reportElement x="0" y="0" width="555" height="759" uuid="9906e5b3-70a2-4eab-bafd-27e755e3b7a9"/>
				<imageExpression><![CDATA["http://sce.solarlifenergy.com.br/reports/OrdemServico.png"]]></imageExpression>
			</image>
			<textField>
				<reportElement x="233" y="94" width="300" height="15" uuid="2332d923-f59c-47e0-b972-3919d1600ab2">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{nome_empresa}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="233" y="109" width="300" height="15" uuid="ce7c845c-30fd-4544-bf74-4d48ff8f4480">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<text><![CDATA[EndereÃ§o:]]></text>
			</staticText>
			<textField>
				<reportElement x="233" y="124" width="300" height="46" uuid="d47f0a84-2fdc-4a16-8e0b-bc37e163ccc7">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{logradouro} + " N:"+ $F{numero} + " Bairro: " + $F{cidade} + " - " + $F{uf}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="290" y="60" width="108" height="15" uuid="58332542-9b47-4157-b4fe-800ddffae47c">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("dd/MM/yyyy").format($F{data_visita})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="290" y="45" width="108" height="15" uuid="5777fbdd-5021-420f-b26c-c0733c12229a">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{codigo}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="10" y="200" width="523" height="19" uuid="b3c0c2ac-fd7f-4af9-b584-6623b6af5e1d">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{logradouro} + " N:"+ $F{numero} + " Bairro: " + $F{cidade} + " - " + $F{uf}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
